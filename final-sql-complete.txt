ALTER TABLE `basic_settings_extended`
ADD `header_v2_button_text` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `header_shipping_text` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_slider_version` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `digital_resource_link` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `digital_resource_text` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `offline_resource_text` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_shop_list_version` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_shop_single_version` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_footer_version` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_header_version` varchar(255) NULL;

ALTER TABLE `basic_settings_extended`
ADD `bookworm_blog_version` varchar(255) NULL;

ALTER TABLE `tickets`
ADD `product_id` bigint(20) unsigned NULL;

ALTER TABLE `products`
ADD `offline` INT NULL DEFAULT 0;

ALTER TABLE `products`
ADD `attributes` json NULL;

ALTER TABLE `products`
ADD `options` json NULL;

ALTER TABLE `products`
ADD `sub_categories` json NULL;

ALTER TABLE `basic_settings_extended`
ADD `product_tabs` json NULL;

ALTER TABLE `basic_settings_extended`
ADD `product_attributes` json NULL;

ALTER TABLE `basic_settings_extended`
ADD `product_fields` json NULL;

ALTER TABLE `basic_settings_extended`
ADD `product_variations` json NULL;

ALTER TABLE `products`
ADD `custom_fields` json NULL;

ALTER TABLE `products`
ADD `variation_data` json NULL;

ALTER TABLE `products`
ADD `variations` TEXT NULL;

ALTER TABLE `products`
ADD `sub_category` TEXT NULL;

ALTER TABLE `products`
ADD `pending_images_download` TEXT NULL;

ALTER TABLE `products`
ADD `sub_category_id` INT NULL;

ALTER TABLE `products`
ADD `sub_child_category_id` INT NULL;

ALTER TABLE `products`
ADD `show_in_page_builder` INT NOT NULL DEFAULT 0;

ALTER TABLE `pcategories`
ADD `is_child` INT NOT NULL DEFAULT 0;

ALTER TABLE `pcategories`
ADD `menu_level` INT NOT NULL DEFAULT 1;

ALTER TABLE `pcategories`
ADD `parent_menu_id` INT NULL;

ALTER TABLE `pcategories`
ADD `show_in_menu` INT NOT NULL DEFAULT 1;

ALTER TABLE `menus`
ADD `is_product` int(1) NOT NULL DEFAULT 0;

ALTER TABLE `products`
ADD `is_variation` int NOT NULL DEFAULT 0;

ALTER TABLE `megamenus`
ADD `subcat` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL;

CREATE TABLE `child_categories` (
 `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
 `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
 `slug` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
 `language_id` int(11) NOT NULL DEFAULT '0',
 `status` int(11) NOT NULL DEFAULT '1',
 `is_feature` int(11) NOT NULL DEFAULT '0',
 `created_at` timestamp NULL DEFAULT NULL,
 `updated_at` timestamp NULL DEFAULT NULL,
 PRIMARY KEY (`id`)
);

CREATE TABLE `website_colors` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `element` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `attribute` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `value` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;



--
-- Indexes for table `tickets`
--
ALTER TABLE `tickets`
  ADD KEY `tickets_product_id_index` (`product_id`);
  

--
-- Constraints for table `tickets`
--
ALTER TABLE `tickets`
  ADD CONSTRAINT `tickets_product_id_foreign` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON UPDATE CASCADE ON DELETE SET NULL;
  


-- --------------------------------------------------------

--
-- Table structure for table `product_ticket`
--

CREATE TABLE `product_ticket` (
  `id` bigint UNSIGNED NOT NULL,
  `product_id` bigint UNSIGNED DEFAULT NULL,
  `ticket_id` bigint UNSIGNED DEFAULT NULL,
  `user_id` bigint UNSIGNED DEFAULT NULL,
  `email` varchar(77) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `product_ticket`
--
ALTER TABLE `product_ticket`
  ADD PRIMARY KEY (`id`),
  ADD KEY `product_ticket_product_id_index` (`product_id`),
  ADD KEY `product_ticket_ticket_id_index` (`ticket_id`),
  ADD KEY `product_ticket_user_id_index` (`user_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `product_ticket`
--
ALTER TABLE `product_ticket`
  MODIFY `id` bigint UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `product_ticket`
--
ALTER TABLE `product_ticket`
  ADD CONSTRAINT `product_ticket_product_id_foreign` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `product_ticket_ticket_id_foreign` FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `product_ticket_user_id_foreign` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
COMMIT;
  
  
  
  
  
  
  
